<script setup lang="ts">
import TheHeader from "./components/TheHeader.vue";
import CardPage from "./components/CardPage.vue";
import Vivus from "vivus";
import { onMounted, ref } from "vue";

const imgShowFlag = ref(true);
const contentShowFlag = ref(false);

onMounted(() => {
  const animate = new Vivus("text", {
    type: "delayed",
    duration: 200,
    animTimingFunction: Vivus.EASE_OUT,
    start: "autostart", // manual
  });
  animate.play();
  setTimeout(() => {
    // contentShowFlag.value = true;
    // imgShowFlag.value = false;
  }, 2000);
});
</script>

<template>
  <div class="opening-img" :class="imgShowFlag ? '' : 'opening-display-none'">
    <svg
      id="text"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 319.32 70.35"
    >
      <defs></defs>
      <g id="_レイヤー_1-2" />
      <path
        class="cls-1"
        d="m3.96,24.34Q.72,17.21,0,15.91h7.06c.36,2.02,1.3,4.9,2.45,7.63l10.44,24.19,9.29-24.19c1.44-3.67,2.09-5.62,2.38-7.63h6.7c-.43,1.08-1.66,3.89-3.53,8.42l-16.13,39.32c-1.87,4.61-5.04,6.7-10.15,6.7-1.58,0-3.17-.22-5.9-.79l1.51-5.33c2.02.94,3.02,1.22,4.39,1.22,2.45,0,4.18-1.3,5.33-3.96l3.31-7.92L3.96,24.34Z"
      />
      <path
        class="cls-1"
        d="m42.48,35.35c0-12.46,7.49-20.38,19.23-20.38s19.15,7.92,19.15,20.31-7.49,20.38-19.08,20.38-19.3-7.85-19.3-20.31Zm5.54-.14c0,9.79,5.26,15.77,13.68,15.77s13.61-5.98,13.61-15.7-5.18-15.77-13.46-15.77-13.83,5.98-13.83,15.7Z"
      />
      <path
        class="cls-1"
        d="m117.58,50.04c0-.79,0-1.3.22-3.17-3.6,5.9-8.06,8.57-14.55,8.57-5.18,0-9.22-1.87-11.52-5.33-1.3-2.09-2.02-4.9-2.02-8.35v-17.79c0-3.24-.14-5.76-.5-8.06h6.48c-.36,2.52-.5,4.97-.5,8.14v16.78c0,6.41,3.1,10.01,8.71,10.01,4.1,0,7.49-1.8,10.37-5.69,1.87-2.52,2.66-4.32,3.31-7.2v-13.9c0-3.1-.14-5.62-.5-8.14h6.41c-.36,2.52-.5,4.82-.5,8.14v22.54c0,3.24.14,5.26.58,8.14h-5.98v-4.68Z"
      />
      <path
        class="cls-1"
        d="m157.1,21.46c-2.74-.86-4.03-1.08-5.83-1.08-3.67,0-6.7,1.51-8.86,4.39-1.73,2.23-2.38,3.96-2.66,7.2v14.69c0,3.24.14,5.26.5,8.07h-6.48c.36-3.31.5-5.18.5-8.14v-22.54c0-3.6-.14-5.54-.5-8.14h5.98v4.1c0,.58,0,1.66-.07,2.16,1.37-2.23,2.45-3.38,3.96-4.39,2.74-1.8,5.18-2.52,8.64-2.52,2.16,0,3.38.14,6.41.65l-1.58,5.54Z"
      />
      <path
        class="cls-1"
        d="m171.65,0v6.41h-6.98V0h6.98Zm-.29,15.91c-.36,2.52-.5,4.54-.5,8.14v22.54c0,3.31.14,5.33.5,8.14h-6.48c.36-3.1.5-5.11.5-8.14v-22.54c0-3.46-.14-5.62-.5-8.14h6.48Z"
      />
      <path
        class="cls-1"
        d="m181.87,54.73c.43-2.74.58-4.68.58-8.14v-22.54c0-3.24-.14-5.26-.58-8.14h5.98v4.9c0,.86,0,1.44-.22,3.1,3.38-5.9,8.06-8.71,14.54-8.71,5.18,0,9.22,1.87,11.52,5.4,1.37,2.09,2.02,4.75,2.02,8.28v17.79c0,3.67.14,5.69.5,8.07h-6.48c.36-2.81.5-4.97.5-8.14v-16.78c0-6.48-3.1-9.94-8.78-9.94-4.03,0-7.27,1.8-10.3,5.69-1.87,2.45-2.74,4.25-3.31,7.13v13.9c0,3.17.14,5.33.5,8.14h-6.48Z"
      />
      <path
        class="cls-1"
        d="m253.94,27.79c-2.09-5.62-5.54-8.28-10.87-8.28-7.92,0-12.96,6.19-12.96,15.84s5.18,15.55,13.25,15.55c4.1,0,7.49-1.66,9.36-4.61.72-1.08,1.08-1.94,1.58-3.67l5.4,1.44c-1.01,2.59-1.73,3.96-2.95,5.54-3.17,3.96-7.78,6.05-13.61,6.05-11.3,0-18.58-7.85-18.58-20.16s7.2-20.59,18.22-20.59c5.98,0,10.8,2.3,13.9,6.62,1.01,1.37,1.66,2.52,2.52,4.61l-5.26,1.66Z"
      />
      <path
        class="cls-1"
        d="m267.98,54.73c.36-2.59.5-4.54.5-8.14V8.14c0-3.6-.14-5.47-.5-8.14h6.41c-.43,2.66-.58,4.54-.58,8.21v12.17c0,1.15,0,1.73-.22,3.6,1.44-2.38,2.23-3.46,3.96-4.9,3.1-2.66,6.41-3.89,10.8-3.89,8.42,0,13.47,4.97,13.47,13.39v18.07c0,3.31.14,5.4.5,8.07h-6.48c.36-2.38.5-4.54.5-8.14v-16.99c0-6.26-3.1-9.65-8.71-9.65-4.03,0-7.34,1.73-10.15,5.26-2.02,2.59-2.95,4.54-3.6,7.56v13.83c0,3.17.14,5.33.5,8.14h-6.41Z"
      />
      <path
        class="cls-1"
        d="m319.32,0v6.41h-6.98V0h6.98Zm-.29,15.91c-.36,2.52-.5,4.54-.5,8.14v22.54c0,3.31.14,5.33.5,8.14h-6.48c.36-3.1.5-5.11.5-8.14v-22.54c0-3.46-.14-5.62-.5-8.14h6.48Z"
      />
    </svg>
  </div>
  <div :class="contentShowFlag ? '' : 'content-display-none'">
    <TheHeader />
    <CardPage />
  </div>
</template>

<style scoped>
.opening-img {
  background-color: #ffeedb;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100dvh;
  height: 90vh;
  width: 100%;
  position: fixed;
  top: 0;
  transition: all 2s;
  z-index: 1;
  pointer-events: none;
}
#text {
  padding: 20px;
  fill: white;
  stroke: #006934;
  stroke-width: 1;
}
.cls-1 {
}
.content-display-none {
  display: none;
}
.opening-display-none {
  opacity: 0;
}
</style>
